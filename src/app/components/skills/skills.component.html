<div class="row" style="margin-left:40px">
    <div class="col">
        
        <span class="rounded float-start">
            <button class="btn btn-success btn-lg"
                *ngIf = "editMode"
                data-bs-toggle="modal" data-bs-target="#skillModal"
                (click)="clearSkill()"
            >Añadir</button>
        </span>
        
    </div>
</div>

<!--<div class="chart-container" style="position: relative; height:400px; width:600px">
    <canvas id="chart_0"></canvas>
</div>-->

<div class="row">
    <div class="col-3"*ngFor="let skill of skillsList"> 
        <a>{{skill.name}}: {{skill.score}}% </a>

        <div id="chart-container" class="chart-container" >

                <div id="canvas" (click)="setSkill(skill)">
                    <canvas id="chart{{skill.id}}"  (click)="setSkill(skill)"> </canvas>
                </div>

                <div id="buttons" *ngIf = "editMode">
                    <i class="bi bi-pencil-fill"
                        style="color:#65cd23;
                         margin-right: 4em"
                        data-bs-toggle="modal" data-bs-target="#skillModal"
                        (click)="setSkill(skill)"
                    ></i>
                    <i class="bi bi-trash-fill"
                        style="color:red"
                        (click) = "onDelete(skill)"                            
                    ></i>                    
                </div>

            <!-- MODAL -->
            <div class="modal" id="skillModal" >
                
                <div class="modal-dialog" >
                    <div class="modal-content">
                        <div class="modal-header">            
                            <h5 class="modal-title" id="staticBackdropLabel">Editar Aptitud</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                    
                        <div class="modal-body">
                            
                            <form [formGroup]="formGroup"
                                (ngSubmit)="onSubmit(skillItem)"
                                >
                                <div class="form-group">
                                    <label for="name">Nombre</label>
                                    <input class="form-control"
                                        type="text" 
                                        formControlName="name" 
                                        placeholder="Ingrese Nombre" 
                                        [(ngModel)]="skillItem.name"
                                    />
                                </div>
            
                                <div class="form-group">
                                    <label for="score">Puntuación</label>
                                    <input class="form-control"
                                        type="text" 
                                        formControlName="score" 
                                        id="score" 
                                        placeholder="Ingrese un entre 0 y 100"
                                        [(ngModel)]="skillItem.score"
                                    />
                                </div>
                                <div *ngIf="Score?.errors && Score?.touched">
                                    <p *ngIf="Score?.hasError('max')" class="text-danger">El valor debe ser inferior a 100</p>                                    
                                </div>
                                <div class="form-group">
                                    <label for="color">Color</label>
                                    <input [(colorPicker)]="skillItem.color" class="form-control"
                                        ng-model="skill.color"
                                        type="text" 
                                        formControlName="color"
                                        [(ngModel)]="skillItem.color"
                                        style="width:100px"
                                    />                              
                                    <div colorpicker ng-model="your_model"></div>      
                                </div>
            
                                <div class="modal-footer">
                                    <button type="submit" class="btn btn-success"  [disabled]="!formGroup.valid" data-bs-dismiss="modal">Guardar</button>
                                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Salir</button>
                                </div>
                            </form> 
                        
            
                        </div>
            
                        
                    </div>
            
                </div>
            </div>
            </div>
            
            
    </div>
</div>
    