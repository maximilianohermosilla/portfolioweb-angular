<div class="row" style="margin:50px">
    <div class="col">
        <h1 class="rounded float-start"><i class="bi bi-briefcase" style="color: rgb(51, 146, 230)"></i> Experiencia</h1>                    
        
        <span class="rounded float-end">
            <i class="bi bi-pencil-square"
                [ngStyle]="{'color': color}"
                [ngStyle]="{'background-color': '{{color}}'}"    
                style="color: green"
                (click)="toggleEditMode()"
            ></i>
        </span>
        
        <span class="rounded float-end">
            <i class="bi bi-plus-square-fill"
                *ngIf = "editMode"
                style="color:green;"
                data-bs-toggle="modal" data-bs-target="#experienceModal"
                (click)="clearExperience()"
            ></i>
        </span>
        
    </div>
</div>

<ul>
    <li *ngFor="let experience of experienceList" style="list-style-type: none;">
        <div class="card-container">
            <div class="card">

                
                <div class="row align-items-center">
                    <div class="col-2">
                        <div class="content">
                            <img [src]="experience.img" class="logo">
                        </div>
                        
                    </div>
                    <div class="col-lg" style="justify-content:center">      
                    <div class="card-item">
                        <h2>{{experience.company}}</h2>
                        <h4>{{experience.position}}</h4>
                        <h6><time>Desde {{experience.start}}</time> hasta <time>{{experience.end}}</time></h6>
                        <h6>{{experience.ubication}}</h6>
                    </div>          
                    </div>
                    <div class="col-sm">
                        <div class="contenedor" *ngIf="editMode">
                            <i class="bi bi-pencil-fill"
                             style="
                              margin-right: 10px"
                              data-bs-toggle="modal" data-bs-target="#experienceModal"
                              (click)="setExperience(experience)"
                              ></i>
                            <i class="bi bi-trash-fill"
                             style="color:red"
                                (click) = "onDelete(experience)"                            
                             ></i>
                        </div> 
                    </div>            
                </div>        
            </div>

            <div class="modal" id="experienceModal" >
                
                <div class="modal-dialog" >
                    <div class="modal-content">
                        <div class="modal-header">            
                            <h5 class="modal-title" id="staticBackdropLabel">{{title}}</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    
                        <div class="modal-body">
                            
                            <form
                                (ngSubmit)="onSubmit(experiencia)"
                                >
                                <div class="form-group">
                                    <label for="company">Empresa</label>
                                    <input class="form-control"
                                        type="text" 
                                        name="company" 
                                        id="company" 
                                        placeholder="{{experiencia.company}}"
                                        [(ngModel)]="experiencia.company"
                                    />
                                </div>
    
                                <div class="form-group">
                                    <label for="ubication">Ubicacion</label>
                                    <input class="form-control"
                                        type="text" 
                                        name="ubication" 
                                        id="ubication" 
                                        placeholder="{{experiencia.ubication}}"
                                        [(ngModel)]="experiencia.ubication"
                                    />
                                </div>
            
    
                                <div class="form-group">
                                    <label for="position">Posici√≥n</label>
                                    <input class="form-control"
                                        type="text" 
                                        name="position" 
                                        id="position" 
                                        placeholder="{{experiencia.position}}" 
                                        [(ngModel)]="experiencia.position"
                                    />
                                </div>
            
                                <div class="form-group">
                                    <label for="start">Desde</label>
                                    <input class="form-control"
                                        type="text" 
                                        name="start" 
                                        id="start" 
                                        placeholder="{{experiencia.start}}"
                                        [(ngModel)]="experiencia.start"
                                    />
                                </div>
                                <div class="form-group">
                                    <label for="end">Hasta</label>
                                    <input class="form-control"
                                        type="text" 
                                        name="end" 
                                        id="end" 
                                        placeholder="{{experiencia.end}}"
                                        [(ngModel)]="experiencia.end"
                                    />
                                </div>
                                <div class="form-group">
                                    <label for="timeElapsed">Tiempo Estimado</label>
                                    <input class="form-control"
                                        type="text" 
                                        name="timeElapsed" 
                                        id="entimeElapsedd" 
                                        placeholder="{{experiencia.timeElapsed}}"
                                        [(ngModel)]="experiencia.timeElapsed"
                                    />
                                </div>
                                <div class="modal-footer">
                                    <button type="submit" class="btn btn-success" data-bs-dismiss="modal">Guardar</button>
                                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Salir</button>
                                </div>
                            </form> 
                        
            
                        </div>
            
                        
                    </div>
            
            </div>
        </div>

       
        
    </div>
    </li>
    
</ul>